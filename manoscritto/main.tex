%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                         %
% Title: Master Thesis                                    %
%                                                         %
% Author:        Angela Carraro                           %
% Supervisor:    Antonio Celani                           %
% Cosupervisors: Andrea Zancola, Luca Bortolussi,         %
%                 Emanuele Panizon						  %
%                                                         %
% Language: English                                       %
%                                                         %
% Character set encoding: UTF-8                           %
%                                                         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\documentclass[a4paper,12pt,twoside]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Basic class definitions, typesetting, bibliography      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{iftex}
\ifxetex
    \usepackage{fontspec}
\else
    \usepackage[T1]{fontenc}
    \usepackage[utf8]{inputenc}
\fi
\usepackage[italian,english]{babel}
\usepackage{csquotes}

%%% Change headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} % sets both header and footer to nothing
\renewcommand{\headrulewidth}{0pt} % Removes the line in the header
\cfoot{-- \thepage \hspace{1pt} --} % Sets page numbering at the bottom centered
\fancyhead[LO]{\textsl{\rightmark}} % To put headers like in 'headings'
\fancyhead[RE]{\textsl{\leftmark}}
\setlength{\footskip}{60pt}
\setlength{\headheight}{14.5pt} % To remove warning

\fancypagestyle{plain}{ % To change the page numberiny style also in the fist page of the chapters, since it switches to the palin style
  \fancyhf{}
  \cfoot{-- \thepage \hspace{1pt} --}
}

%\setlength{\parindent}{4em}
%\setlength{\parskip}{1em}
\renewcommand{\baselinestretch}{1.3}

\usepackage{lipsum}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Math                                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\mathchardef\mhyphen="2D % dash in math mode

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graphics                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{tikz}
\usepackage[export]{adjustbox}
\usepackage{subcaption}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Algorithms                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{algorithm}
%\usepackage{algpseudocode}
\usepackage[ruled]{algorithm2e}

%\algdef{SE}[LOOP]{Loop}{EndLoop}[1]{\algorithmicloop\ #1\ }{\algorithmicend\ }%
\SetKwBlock{Loop}{Loop}{end}
\SetKw{Break}{break}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Chapter/sections/etc visual style                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Chapters: square around number
\usepackage{titlesec}             % Easier section customizations

\newcommand*{\chapnumfont}{\normalfont\sffamily\huge\bfseries}
\titleformat{\chapter}[display]
{\filleft\bfseries\sffamily}
{\filleft%
    \topskip0pt
    \raisebox{0.78cm}{\huge Chapter }
    \begin{tikzpicture}
        %\draw[fill,color=black] (0,0) rectangle (2cm,2cm);
        %\draw[color=white] (1cm,1cm) node {\chapnumfont\thechapter};
        \draw[line width=2pt,color=black] (0,0) rectangle (2cm,2cm);
        \draw[color=black] (1cm,1cm) node {\chapnumfont\thechapter};
    \end{tikzpicture}
}
{20pt}
{\Huge}

\setcounter{secnumdepth}{4}

\usepackage[strict]{changepage} % To check if a page is odd or even and conditionals

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TOC                                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{tocbibind} % \usepackage[nottoc]{tocbibind}
\setcounter{tocdepth}{3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Index | To be loaded before hyperref                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{imakeidx}
%\usepackage[columns=2]{idxlayout} % , font=small
\makeindex[intoc]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperref configuration                                  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[%hypertex,
    unicode           = true,
    plainpages        = false, 
    pdfpagelabels     = true, 
    bookmarks         = true,
    bookmarksnumbered = true,
    bookmarksopen     = true,
    breaklinks        = true,
    backref           = false,
    colorlinks        = true,
    linkcolor         = black,
    urlcolor          = black,
    citecolor         = black,
    anchorcolor       = black,
    hyperindex        = true,
    linktocpage       = true,
    hyperfigures      = true
]{hyperref}
\hypersetup{
    linkcolor         = blue,
    urlcolor          = blue,
    citecolor         = blue,
    anchorcolor       = blue,
    pdftitle={Optimizing fault search in power grid outages through Reinforcement Learning},
    pdfauthor={Angela Carraro}
}
%\newcommand{\algorithmautorefname}{Algorithm} % To autoreference Algorithms

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Glossary and acronyms | To be loaded after hyperref     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \let\printglossary\relax
% \let\theglossary\relax
% \let\endtheglossary\relax
\usepackage[noredefwarn,acronym,toc]{glossaries}
\makeglossaries
\include{frontmatter/acronyms}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography                                            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{natbib}
\usepackage[%
%    natbib                    , % provides natbib aliases
    backend      = biber        ,
    backref      = true         ,
    style        = numeric-comp , %alphabetic or numeric
    refsegment   = chapter      ,
    defernumbers = true         ,
    sorting      = none           %ynt
]{biblatex}
\addbibresource{references.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Metadata                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\THauthor{Angela Carraro}
\def\THsupervisor{Antonio Celani, ICTP}
\def\THcosupervisor{Andrea Zancola, AcegasApsAmga}
\def\THextracosupervisor{Luca Bortolussi, UniTS}
\def\THextracosupervisortwo{Emanuele Panizon, ICTP}
\def\THtitle{Optimizing fault search in power grid outages through Reinforcement Learning}
\def\THdate{\monthyear\today}
\def\THplace{Trieste}
\title{\THtitle}
\author{\THauthor}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Actual text                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\frontmatter

\input{frontmatter/titlepage}

\cleardoublepage
\thispagestyle{empty}
\vspace*{\stretch{1}}
\begin{flushright}
    \itshape A Matteo
\end{flushright}
\vspace{\stretch{3}}
\clearpage
\thispagestyle{empty}


\include{frontmatter/abstract_ita}
\include{frontmatter/abstract_eng}

% Table of contents
\tableofcontents

% Acronyms (list of abbreviations)
\printglossary[type=\acronymtype]


\mainmatter

% Introduction

\include{chapters/1_chapter1}


%\part{Data Management}

\include{chapters/2_chapter2}

%\include{chapters/3_chapter3}


%\part{Reinforcement Learning} %{Algorithms}

\include{chapters/4_chapter4}

\include{chapters/5_chapter5}

%\include{chapters/6_chapter6}


%\part{Finance}

%\include{chapters/7_chapter7}

%\backmatter

\include{chapters/8_chapter8}
\include{chapters/9_conclusion}


% Full bibliography
%\bibliographystyle{plain}
%\bibliography{references}
\printbibliography[heading=bibintoc]%[resetnumbers=true]%[notcategory=publist]


% Index
\printindex

\end{document}